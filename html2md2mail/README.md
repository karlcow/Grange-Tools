This bookmarklet does:

1. Take a selection in a Web page
2. Convert the DOM to MarkDown
3. Prepare an email with the content as a MultiMarkDown

This has been tested on Firefox 36.

Any new issue is welcome. 
Even better code to fix the bookmarklet.

Caveats:

* It fails on some https Web sites due to the new CSP policy.
* It is working now in the console but fails as a bookmarklet: <a href="javascript:(function(){function markdownEscape(text){return text.replace(/\s+/g,&quot; &quot;).replace(/[\\*_>#]/g,&quot;\\__1__&quot;);}function repeat(str,times){return(new Array(times+1)).join(str);}function childsToMarkdown(tree,mode){var res=&quot;&quot;;for(var i=0,l=tree.childNodes.length;i<l;++i){res+=nodeToMarkdown(tree.childNodes[i],mode);}return res;}function nodeToMarkdown(tree,mode){var nl=&quot;\n\n&quot;;if(tree.nodeType==3){return markdownEscape(tree.nodeValue);}else if(tree.nodeType==1){if(mode==&quot;block&quot;){switch(tree.tagName.toLowerCase()){case &quot;br&quot;:return nl;case &quot;hr&quot;:return nl+&quot;---&quot;+nl;case &quot;p&quot;:case &quot;div&quot;:case &quot;section&quot;:case &quot;address&quot;:case &quot;center&quot;:return nl+childsToMarkdown(tree,&quot;block&quot;)+nl;case &quot;ul&quot;:return nl+childsToMarkdown(tree,&quot;u&quot;)+nl;case &quot;ol&quot;:return nl+childsToMarkdown(tree,&quot;o&quot;)+nl;case &quot;pre&quot;:return nl+&quot;    &quot;+childsToMarkdown(tree,&quot;inline&quot;)+nl;case &quot;code&quot;:if(tree.childNodes.length==1){break;}return nl+&quot;    &quot;+childsToMarkdown(tree,&quot;inline&quot;)+nl;case &quot;h1&quot;:case &quot;h2&quot;:case &quot;h3&quot;:case &quot;h4&quot;:case &quot;h5&quot;:case &quot;h6&quot;:case &quot;h7&quot;:return nl+repeat(&quot;#&quot;,+tree.tagName[1])+&quot;  &quot;+childsToMarkdown(tree,&quot;inline&quot;)+nl;case &quot;blockquote&quot;:return nl+&quot;> &quot;+childsToMarkdown(tree,&quot;inline&quot;)+nl;default:console.log(&quot;[toMarkdown] - not a block element &quot;+tree.tagName);}}if(/^[ou]+$/.test(mode)){if(tree.tagName==&quot;LI&quot;){return &quot;\n&quot;+repeat(&quot;  &quot;,mode.length-1)+(mode[mode.length-1]==&quot;o&quot;?&quot;1. &quot;:&quot;- &quot;)+childsToMarkdown(tree,mode+&quot;l&quot;);}else{console.log(&quot;[toMarkdown] - invalid element at this point &quot;+mode.tagName);return childsToMarkdown(tree,&quot;inline&quot;);}}else if(/^[ou]+l$/.test(mode)){if(tree.tagName==&quot;UL&quot;){return childsToMarkdown(tree,mode.substr(0,mode.length-1)+&quot;u&quot;);}else if(tree.tagName==&quot;OL&quot;){return childsToMarkdown(tree,mode.substr(0,mode.length-1)+&quot;o&quot;);}}switch(tree.tagName.toLowerCase()){case &quot;strong&quot;:case &quot;b&quot;:return &quot;**&quot;+childsToMarkdown(tree,&quot;inline&quot;)+&quot;**&quot;;case &quot;em&quot;:case &quot;i&quot;:return &quot;_&quot;+childsToMarkdown(tree,&quot;inline&quot;)+&quot;_&quot;;case &quot;code&quot;:return &quot;`&quot;+childsToMarkdown(tree,&quot;inline&quot;)+&quot;`&quot;;case &quot;a&quot;:console.log(&quot;anchor &quot;+tree.tagName);var link=tree.getAttribute(&quot;href&quot;);var linkinfo=getLinkIndex(link,linkregistry);var linkindex=linkinfo[0];linkregistry=linkinfo[1];return &quot;[&quot;+childsToMarkdown(tree,&quot;inline&quot;)+&quot;][&quot;+linkindex+&quot;]&quot;;case &quot;img&quot;:return nl+&quot;[_Image_: &quot;+markdownEscape(tree.getAttribute(&quot;alt&quot;))+&quot;](&quot;+tree.getAttribute(&quot;src&quot;)+&quot;)&quot;+nl;case &quot;script&quot;:case &quot;style&quot;:case &quot;meta&quot;:return &quot;&quot;;default:console.log(&quot;[toMarkdown] - undefined element &quot;+tree.tagName);return childsToMarkdown(tree,mode);}}}function toMarkdown(node){return nodeToMarkdown(node,&quot;block&quot;).replace(/[\n\s]+/,&quot;\n&quot;).replace(/[\n]{2,}/g,&quot;\n&quot;);}function getLinkIndex(link,linkregistry){registrylength=keys(linkregistry).length;if(linkregistry[link]===undefined){linkindex=registrylength+1;linkregistry[link]=linkindex;}else{linkindex=linkregistry[link];}return[linkindex,linkregistry];}function createLinksIndex(linkregistry){var linksummary='\n\n';for(var link in linkregistry){linksummary+='['+linkregistry[link]+']: '+link+'\n';}return linksummary;}function getDomSelection(){var domnode=document.createDocumentFragment();if(typeof window.getSelection!=undefined){selection=window.getSelection();if(selection.rangeCount){for(var i=0,len=selection.rangeCount;i<len;++i){var container=document.createElement(&quot;div&quot;);container.appendChild(selection.getRangeAt(i).cloneContents());domnode.appendChild(container);}}}return domnode;}function toMail(docbody,doctitle,docdate,docuri){var mail='mailto:?SUBJECT=';mail+=encodeURIComponent(doctitle);mail+='&amp;BODY=';mail+=escape('\nTitle: ');mail+=encodeURIComponent(doctitle);mail+=escape('\nURI:   ');mail+=encodeURIComponent(docuri);mail+=escape('\nDate:  ');mail+=encodeURIComponent(docdate);mail+=escape('\n\n');mail+=encodeURIComponent(docbody);mail+=escape('\n\n');return location.href=mail;}function getDocTitle(){return document.title;}function getDocDate(){return new Date(document.lastModified).toUTCString();}function getDocUri(){return document.location;}var linkregistry=Object.create(null);var registrylength=0;var docbody='';var doctitle=getDocTitle();var docuri=getDocUri();var docdate=getDocDate();var domnode=getDomSelection();for(var i=0,len=domnode.childNodes.length;i<len;++i){docbody+=toMarkdown(domnode.childNodes[i]);}docbody+=createLinksIndex(linkregistry);toMail(docbody,doctitle,docdate,docuri);})();">h2m</a>

License:
* MIT License for my code.

Code origin:
* The DOM to MarkDown conversion is done through a piece of code which I found on [David Bengoa's gist](https://gist.github.com/YouWoTMA/1762527) but searching through GitHub, it seems it comes from the [unmarked](https://github.com/thesunny/unmarked) project by [thesunny](https://github.com/thesunny).
* The rest of the code is mine and licensed under MIT License.
